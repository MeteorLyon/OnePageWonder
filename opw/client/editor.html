<template name="opwEditorConfiguration">

  {{! Use jQuery Validation! }}
  {{! Broken up by root key }}
  {{! Then auto-detect fields? }}

  <div>
    <h1>Configuration!</h1>
  </div>

</template>



<template name="opwEditorContentExample">
<div class="col-lg-12">
  <h1>New Section</h1>
  <h2>Tagline for new section</h2>
  <ul>
    <li>Make some content</li>
  </ul>
  <p>That's it!</p>
</div>
</template>



<template name="opwEditorDashboard">

  {{! Dashboard }}
  {{! Quick stats overview }}
  <h1>h3rr0 datchb00</h1>

</template>



<template name="opwEditorLogs">

  <div class="text-center">
    <ul
      id="opw-editor-title-order"
      class="list-group opw-editor-list">

      <li class="list-group-item">
        <button
          id="opw-log-admin"
            type="button"
            class="btn btn-info width-20em">
            <span class="badge">{{counts.notifications}}</span>
          Admin Notifications
        </button>
        <button
          id="opw-trash-opw-home-row"
            type="button"
            class="btn btn-success">
          <i class="fa fa-download"></i>
        </button>
      </li>
      <li class="list-group-item">
        <button
          id="opw-log-authentication"
            type="button"
            class="btn btn-info width-20em">
            <span class="badge">{{counts.authentications}}</span>
          Authentication History
        </button>
        <button
          id="opw-trash-opw-home-row"
            type="button"
            class="btn btn-success">
          <i class="fa fa-download"></i>
        </button>
      </li>
      <li class="list-group-item">
        <button
          id="opw-log-contact"
            type="button"
            class="btn btn-info width-20em">
            <span class="badge">{{counts.contacts}}</span>
          Contact Requests
        </button>
        <button
          id="opw-trash-opw-home-row"
            type="button"
            class="btn btn-success">
          <i class="fa fa-download"></i>
        </button>
      </li>
      <li class="list-group-item">
        <button
          id="opw-log-raw"
            type="button"
            class="btn btn-info width-20em">
            <span class="badge">{{counts.raw}}</span>
          Raw Log
        </button>
        <button
          id="opw-trash-opw-home-row"
            type="button"
            class="btn btn-success">
          <i class="fa fa-download"></i>
        </button>
      </li>
      <li class="list-group-item">
        <button
          id="opw-log-security"
            type="button"
            class="btn btn-info width-20em">
            <span class="badge">{{counts.security}}</span>
          Security Log
        </button>
        <button
          id="opw-trash-opw-home-row"
            type="button"
            class="btn btn-success">
          <i class="fa fa-download"></i>
        </button>
      </li>

    </ul>
  </div>

</template>



<template name="opwEditorLogAdmin">

  <h2>Admin Notifications</h2>
  <table class="table table-condensed table-striped table-hover">
    <thead>
      <tr>
        <td>
          <strong>Type</strong>
        </td>
        <td>
          <strong>Message</strong>
        </td>
        <td>
          <strong>Date</strong>
        </td>
      </tr>
    </thead>

    {{#each log}}

      <tbody
        data-id="{{_id}}"
        title="Click to mark log entry {{_id}} as read">
          <tr>
          <td>
            {{type}}
          </td>
          <td>
            {{message}}
          </td>
          <td>
            {{date}}
          </td>
        </tr>
      </tbody>

    {{/each}}

    </table>

</template>



<template name="opwEditorLogAuthentication">

  <h2>Authentication History</h2>
  <table class="table table-condensed table-striped table-hover">
    <thead>
      <tr>
        <td>
          <strong>Type</strong>
        </td>
        <td>
          <strong>Message</strong>
        </td>
        <td>
          <strong>Date</strong>
        </td>
      </tr>
    </thead>

    {{#each log}}

      <tbody
        data-id="{{_id}}"
        title="Click to mark log entry {{_id}} as read">
          <tr>
          <td>
            {{type}}
          </td>
          <td>
            {{message}}
          </td>
          <td>
            {{date}}
          </td>
        </tr>
      </tbody>

    {{/each}}

    </table>

</template>



<template name="opwEditorLogContact">

  <table class="table table-condensed table-striped table-hover">
    <thead>
      <tr>
        <td>
          <strong>Contact</strong>
        </td>
        <td>
          <strong>Label</strong>
        </td>
        <td>
          <strong>Date</strong>
        </td>
        <td>
          <strong>IP</strong>
        </td>
      </tr>
      <tr colspan="4">
        <td>
          <strong>Message</strong>
        </td>
      </tr>
    </thead>

    {{#each log}}

    <tbody
      data-id="{{_id}}"
      title="Click to mark message {{_id}} as read">
        <tr>
          <td>
            {{user}}{{! Legacy compat}}{{email}}{{twitter}}
          </td>
          <td>
            {{label}}
          </td>
          <td>
            {{stamp}}
          </td>
          <td>
            {{source}}
          </td>
        </tr>
        {{#if message}}
        <tr>
          <td colspan="4">
            {{message}}
          </td>
        </tr>
        {{/if}}
      </tbody>

    {{/each}}

  </table>

</template>



<template name="opwEditorLogRaw">

  <h2>Raw Log</h2>
  <table class="table table-condensed table-striped table-hover">
    <thead>
      <tr>
        <td>
          <strong>Type</strong>
        </td>
        <td>
          <strong>Message</strong>
        </td>
        <td>
          <strong>Date</strong>
        </td>
      </tr>
    </thead>

    {{#each log}}

      <tbody
        data-id="{{_id}}"
        title="Viewing log entry {{_id}}">
          <tr>
          <td>
            {{type}}
          </td>
          <td>
            {{message}}
          </td>
          <td>
            {{date}}
          </td>
        </tr>
      </tbody>

    {{/each}}

    </table>

</template>



<template name="opwEditorLogSecurity">

  <h2>Security Log</h2>
  <table class="table table-condensed table-striped table-hover">
    <thead>
      <tr>
        <td>
          <strong>Type</strong>
        </td>
        <td>
          <strong>Message</strong>
        </td>
        <td>
          <strong>Date</strong>
        </td>
      </tr>
    </thead>

    {{#each log}}

      <tbody
        data-id="{{_id}}"
        title="Click to mark log entry {{_id}} as read">
          <tr>
          <td>
            {{type}}
          </td>
          <td>
            {{message}}
          </td>
          <td>
            {{date}}
          </td>
        </tr>
      </tbody>

    {{/each}}

    </table>

</template>



<template name="opwEditorMenu">

      <div class="btn-group">
        <button
          id="opw-edit-dashboard"
          type="button"
          class="btn btn-primary">
          {{opwDashboardLabel}}
        </button>
        <button
          id="opw-edit-configuration"
          type="button"
          class="btn btn-primary">
          {{opwConfigurationLabel}}
        </button>
        <button
          id="opw-edit-logs"
          type="button"
          class="btn btn-primary">
          {{opwLogsLabel}}
        </button>
        <button
          id="opw-edit-sections"
          type="button"
          class="btn btn-primary">
          {{opwSectionsLabel}}
        </button>
        <button
          id="opw-edit-new-section"
          type="button"
          class="btn btn-primary">
          {{{opwNewSectionLabel}}}
        </button>
      </div>

</template>



<template name="opwModalEditor">

    <div
        class="modal fade"
        id="{{cssId}}"
        tabindex="-1"
        role="dialog"
        aria-labelledby="{{cssId}}-label">

        <div
            class="modal-dialog"
            role="document">

            <div class="modal-content">

                <div class="modal-header text-center">
                    <button
                        type="button"
                        class="close"
                        data-dismiss="modal"
                        aria-label="{{closeLabel}}">
                        <span
                            aria-hidden="true">
                            &times;
                        </span>
                    </button>
                    {{> opwEditorMenu}}
                </div>

                <div class="modal-body">
                    <div class="container-fluid">
                        {{#if template}}
                            {{> Template.dynamic template=template}}
                        {{/if}}
                    </div>
                </div>

                <div class="modal-footer">

                    {{#if actionText}}
                        <button
                            id="{{actionId}}"
                            type="button"
                            class="btn btn-primary {{actionClass}}">
                            {{actionText}}
                        </button>
                    {{/if}}
                    <button
                        type="button"
                        class="btn btn-default"
                        data-dismiss="modal">
                        {{#if closeText}}
                            {{closeText}}
                        {{else}}
                            {{closeLabel}}
                        {{/if}}
                    </button>
                </div>

            </div>
        </div>
    </div>

</template>



<template name="opwEditorRow">

  <div>
    {{>opwEditorRowTitle row}}
    {{>opwEditorRowContent row}}
  </div>

</template>



<template name="opwEditorRowContent">

    <div
        id="opw-element-bar"
        class="text-center">
      {{>opwWonderBar}}
    </div>
  <div
      id="opw-editor-content"
      class="block-center">
    {{>opwEditorTextarea content=content}}
  </div>

</template>



<template name="opwEditorTextarea">
{{! It must be done, uses opwEditorContentExample (above) }}
<textarea id="opw-editor-textarea" class="form-control">{{#if content}}{{{content}}}{{else}}{{>opwEditorContentExample}}{{/if}}</textarea>
{{! Ugh! lol }}
</template>



<template name="opwEditorRowTitle">

  <div
    id="opw-editor-title"
    class="text-center">
    <input
      type="text"
      id="opw-title-editor"
      class="form-control"
      maxlength="25"
      placeholder="{{opwEditorTitlePlaceholder}}"
      value="{{title}}">
  </div>

</template>



<template name="opwEditorSection">

  <li
    class="list-group-item"
    data-id="{{_id}}"
    data-slug="{{slug}}">
    <input
      name="opw-editor-row-id"
      type="hidden">
    <span
      id="opw-drag-{{slug}}"
        type="button"
        title="Drag to move row ({{_id}})"
        class="btn btn-success sortable-handle">
      <i class="fa fa-arrows-v"></i>
    </span>
    <button
      id="opw-edit-{{slug}}"
        type="button"
        title="Click to edit row ({{_id}})"
        class="btn btn-info width-20em opw-edit-row">
        {{#if views}}
          <span class="badge">{{views}}</span>
        {{/if}}
      <i class="fa fa-pencil float-left"></i>
      {{title}}
    </button>
    <button
      id="opw-trash-{{slug}}"
        type="button"
        title="Click to remove row ({{_id}})"
        class="btn btn-danger opw-trash-row">
      <i class="fa fa-trash"></i>
    </button>
  </li>

</template>



<template name="opwEditorSections">

  <div class="text-center">

    <ul id="opw-editor-title-order" class="list-group opw-editor-list">
      {{#with opwHomeRow}}
        <li
        class="list-group-item"
        id="opw-edit-row"
        data-id="{{_id}}">
          <button
            id="opw-edit-opw-home-row"
              type="button"
              title="Click to edit row ({{_id}})"
              class="btn btn-info width-20em opw-edit-row">
              {{#if views}}
                <span class="badge">{{views}}</span>
              {{/if}}
            <i class="fa fa-pencil float-left"></i>
            Home Row
          </button>
        </li>
      {{/with}}

      {{#each opwRows}}
        {{> opwEditorSection}}
      {{/each}}
    </ul>

  </div>

</template>
